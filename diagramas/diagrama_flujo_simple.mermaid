%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#4a90d9', 'primaryTextColor': '#fff', 'primaryBorderColor': '#2c5282', 'lineColor': '#2c5282', 'secondaryColor': '#90cdf4', 'tertiaryColor': '#e2e8f0'}}}%%

flowchart TD
    subgraph INICIO["ğŸ“ INICIO"]
        A[("ğŸ· Dataset CSV<br/>Wine Quality White<br/>4,898 registros")]
    end

    subgraph CARGA["1ï¸âƒ£ CARGA Y VALIDACIÃ“N"]
        B["ğŸ“¥ Cargar CSV<br/>pandas.read_csv()"]
        C{"âœ“ Validar requisitos<br/>>2000 registros<br/>>10 columnas"}
        D["ğŸ“Š Identificar tipos<br/>de columnas"]
    end

    subgraph FALTANTES["2ï¸âƒ£ VALORES FALTANTES"]
        E["ğŸ” Calcular nulos<br/>por columna"]
        F["ğŸ“ˆ Generar heatmap<br/>de valores faltantes"]
    end

    subgraph ESTADISTICAS["3ï¸âƒ£ ANÃLISIS ESTADÃSTICO"]
        G["ğŸ“ EstadÃ­sticas descriptivas<br/>mean, std, min, max, mediana"]
        H["ğŸ“Š AnÃ¡lisis de quality<br/>frecuencias y moda"]
    end

    subgraph VISUALIZACIONES["4ï¸âƒ£ VISUALIZACIONES"]
        I["ğŸ“Š Histogramas<br/>Variables numÃ©ricas"]
        J["ğŸ“¦ Boxplots<br/>DetecciÃ³n outliers"]
        K["ğŸ“Š GrÃ¡fico barras<br/>Variable quality"]
    end

    subgraph OUTLIERS["5ï¸âƒ£ DETECCIÃ“N OUTLIERS"]
        L["ğŸ”¢ MÃ©todo IQR<br/>Q1 - 1.5*IQR<br/>Q3 + 1.5*IQR"]
        M["ğŸ“‹ Conteo por<br/>variable"]
    end

    subgraph CORRELACIONES["6ï¸âƒ£ CORRELACIONES"]
        N["ğŸ”— Matriz Pearson<br/>df.corr()"]
        O["ğŸŒ¡ï¸ Heatmap<br/>correlaciones"]
        P["ğŸ† Top 5<br/>correlaciones"]
    end

    subgraph CLAUDE["7ï¸âƒ£ INTEGRACIÃ“N CLAUDE API"]
        Q["ğŸ“ Construir resumen<br/>del anÃ¡lisis"]
        R["ğŸ¤– Enviar a Claude<br/>API Anthropic"]
        S["ğŸ“„ Recibir insights<br/>y recomendaciones"]
    end

    subgraph REPORTE["8ï¸âƒ£ REPORTE FINAL"]
        T["ğŸ“‘ Resumen ejecutivo"]
        U["ğŸ’¡ 3 Hallazgos clave"]
        V["ğŸ”§ 3 Recomendaciones"]
        W[("ğŸ“„ Reporte PDF")]
    end

    A --> B
    B --> C
    C -->|VÃ¡lido| D
    C -->|No vÃ¡lido| A
    D --> E
    E --> F
    F --> G
    G --> H
    H --> I
    I --> J
    J --> K
    K --> L
    L --> M
    M --> N
    N --> O
    O --> P
    P --> Q
    Q --> R
    R --> S
    S --> T
    T --> U
    U --> V
    V --> W

    style A fill:#2c5282,color:#fff
    style W fill:#276749,color:#fff
    style R fill:#9f7aea,color:#fff
    style C fill:#dd6b20,color:#fff
